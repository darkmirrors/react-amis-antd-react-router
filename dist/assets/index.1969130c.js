var b=Object.defineProperty;var x=(n,e,o)=>e in n?b(n,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[e]=o;var m=(n,e,o)=>(x(n,typeof e!="symbol"?e+"":e,o),o);import{_ as a,j as l,S as T,L,u as P,c as R,a as f,m as C,o as w,b as g,d as A,e as D,B as z,l as _}from"./vendor.099ef73f.js";const N=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function o(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(t){if(t.ep)return;t.ep=!0;const s=o(t);fetch(t.href,s)}};N();const B="modulepreload",h={},V="/",d=function(e,o){return!o||o.length===0?e():Promise.all(o.map(r=>{if(r=`${V}${r}`,r in h)return;h[r]=!0;const t=r.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${s}`))return;const i=document.createElement("link");if(i.rel=t?"stylesheet":B,t||(i.as="script",i.crossOrigin=""),i.href=r,document.head.appendChild(i),t)return new Promise((E,I)=>{i.addEventListener("load",E),i.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e())},j=l(L,{style:{fontSize:50},spin:!0}),$=[{path:"",component:a.exports.lazy(()=>d(()=>import("./index.22abf53f.js"),["assets/index.22abf53f.js","assets/vendor.099ef73f.js"])),children:[{path:"",component:a.exports.lazy(()=>d(()=>import("./index.587c12a0.js"),["assets/index.587c12a0.js","assets/vendor.099ef73f.js","assets/constant.bcd89818.js"]))},{path:"/todo",component:a.exports.lazy(()=>d(()=>import("./index.2974a0b9.js"),["assets/index.2974a0b9.js","assets/vendor.099ef73f.js"]))},{path:"/series",component:a.exports.lazy(()=>d(()=>import("./index.6c87d5cc.js"),["assets/index.6c87d5cc.js","assets/index.ab732142.js","assets/vendor.099ef73f.js","assets/constant.bcd89818.js"]))},{path:"/user",component:a.exports.lazy(()=>d(()=>import("./index.6f91e519.js"),["assets/index.6f91e519.js","assets/index.ab732142.js","assets/vendor.099ef73f.js","assets/constant.bcd89818.js"]))}]},{path:"/Login",component:a.exports.lazy(()=>d(()=>import("./index.b0bf8bd5.js"),["assets/index.b0bf8bd5.js","assets/vendor.099ef73f.js"]))},{path:"*",component:a.exports.lazy(()=>d(()=>import("./index.017d3592.js"),["assets/index.017d3592.js","assets/vendor.099ef73f.js"]))}],v=n=>n.map(e=>(e.children&&(e.children=v(e.children)),e.element=l(a.exports.Suspense,{fallback:l("div",{className:"w-screen h-screen fixed left-0 top-0 flex justify-center items-center",children:l(T,{indicator:j,size:"large"})}),children:l(e.component,{})}),e)),q=v($);function J(){return P(q)}class F{updateTodos(e){localStorage.setItem("todos",JSON.stringify(e))}}var p=new F,G=Object.defineProperty,K=Object.getOwnPropertyDescriptor,u=(n,e,o,r)=>{for(var t=r>1?void 0:r?K(e,o):e,s=n.length-1,i;s>=0;s--)(i=n[s])&&(t=(r?i(e,o,t):i(t))||t);return r&&t&&G(e,o,t),t};R({isolateGlobalState:!0});let y=Number(localStorage.getItem("todoId")||0);class c{constructor(){m(this,"todos",JSON.parse(localStorage.getItem("todos")||"[]"));C(this)}get doneCount(){return this.todos.filter(e=>e.done).length}get undoneCount(){return this.todos.filter(e=>!e.done).length}addNewTodo(e,o){const r=y++,t={name:e,desc:e+r,id:r,done:!1};this.todos=[...this.todos,t],p.updateTodos(this.todos),localStorage.setItem("todoId",y.toString())}removeById(e){this.todos=this.todos.filter(o=>o.id!==e),p.updateTodos(this.todos)}toggleStatusById(e){this.todos=this.todos.map(o=>(console.log(o.id,e),o.id===e&&(o.done=!o.done),o)),p.updateTodos(this.todos)}}u([w],c.prototype,"todos",2);u([g],c.prototype,"doneCount",1);u([g],c.prototype,"undoneCount",1);u([f.bound],c.prototype,"addNewTodo",1);u([f.bound],c.prototype,"removeById",1);u([f.bound],c.prototype,"toggleStatusById",1);const U="todoStore";function W(){return{[U]:new c}}const S=W(),O=a.exports.createContext(S),Q=()=>a.exports.useContext(O),k=A(document.getElementById("root"));k.render(l(O.Provider,{value:S,children:D(z,{children:[l(_.ToastComponent,{position:"top-right"},"toast"),l(_.AlertComponent,{},"alert"),l(J,{})]})}));export{Q as u};
